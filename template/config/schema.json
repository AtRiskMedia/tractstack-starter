{
  "version": "1.0.0",
  "schemaInitialized": false,
  "tables": {
    "tractstack": {
      "sql": "CREATE TABLE IF NOT EXISTS tractstack (id TEXT PRIMARY KEY, title TEXT NOT NULL, slug TEXT NOT NULL UNIQUE, social_image_path TEXT)"
    },
    "menu": {
      "sql": "CREATE TABLE IF NOT EXISTS menu (id TEXT PRIMARY KEY, title TEXT NOT NULL, theme TEXT NOT NULL, options_payload TEXT NOT NULL)"
    },
    "resource": {
      "sql": "CREATE TABLE IF NOT EXISTS resource (id TEXT PRIMARY KEY, title TEXT NOT NULL, slug TEXT NOT NULL UNIQUE, category_slug TEXT, oneliner TEXT NOT NULL, options_payload TEXT NOT NULL, action_lisp TEXT)"
    },
    "file": {
      "sql": "CREATE TABLE IF NOT EXISTS file (id TEXT PRIMARY KEY, filename TEXT NOT NULL, alt_description TEXT NOT NULL, url TEXT NOT NULL, src_set BOOLEAN DEFAULT false)"
    },
    "markdown": {
      "sql": "CREATE TABLE IF NOT EXISTS markdown (id TEXT PRIMARY KEY, body TEXT NOT NULL)"
    },
    "storyfragment": {
      "sql": "CREATE TABLE IF NOT EXISTS storyfragment (id TEXT PRIMARY KEY, title TEXT NOT NULL, slug TEXT NOT NULL UNIQUE, social_image_path TEXT, tailwind_background_colour TEXT, created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, changed TIMESTAMP, menu_id TEXT REFERENCES menu(id), tractstack_id TEXT NOT NULL REFERENCES tractstack(id))"
    },
    "pane": {
      "sql": "CREATE TABLE IF NOT EXISTS pane (id TEXT PRIMARY KEY, title TEXT NOT NULL, slug TEXT NOT NULL UNIQUE, created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, changed TIMESTAMP, markdown_id TEXT REFERENCES markdown(id), options_payload TEXT NOT NULL, is_context_pane BOOLEAN DEFAULT 0, height_offset_desktop INTEGER, height_offset_mobile INTEGER, height_offset_tablet INTEGER, height_ratio_desktop TEXT, height_ratio_mobile TEXT, height_ratio_tablet TEXT)"
    },
    "storyfragment_pane": {
      "sql": "CREATE TABLE IF NOT EXISTS storyfragment_pane (id TEXT PRIMARY KEY, storyfragment_id TEXT NOT NULL REFERENCES storyfragment(id), pane_id TEXT NOT NULL REFERENCES pane(id), weight INTEGER NOT NULL, UNIQUE(storyfragment_id, pane_id))"
    },
    "file_pane": {
      "sql": "CREATE TABLE IF NOT EXISTS file_pane (id TEXT PRIMARY KEY, file_id TEXT NOT NULL REFERENCES file(id), pane_id TEXT NOT NULL REFERENCES pane(id), UNIQUE(file_id, pane_id))"
    },
    "file_markdown": {
      "sql": "CREATE TABLE IF NOT EXISTS file_markdown (id TEXT PRIMARY KEY, file_id TEXT NOT NULL REFERENCES file(id), markdown_id TEXT NOT NULL REFERENCES markdown(id), UNIQUE(file_id, markdown_id))"
    }
  },
  "indexes": [
    "CREATE INDEX IF NOT EXISTS idx_storyfragment_tractstack_id ON storyfragment(tractstack_id)",
    "CREATE INDEX IF NOT EXISTS idx_storyfragment_menu_id ON storyfragment(menu_id)",
    "CREATE INDEX IF NOT EXISTS idx_storyfragment_pane_storyfragment_id ON storyfragment_pane(storyfragment_id)",
    "CREATE INDEX IF NOT EXISTS idx_storyfragment_pane_pane_id ON storyfragment_pane(pane_id)",
    "CREATE INDEX IF NOT EXISTS idx_file_pane_file_id ON file_pane(file_id)",
    "CREATE INDEX IF NOT EXISTS idx_file_pane_pane_id ON file_pane(pane_id)",
    "CREATE INDEX IF NOT EXISTS idx_file_markdown_file_id ON file_markdown(file_id)",
    "CREATE INDEX IF NOT EXISTS idx_file_markdown_markdown_id ON file_markdown(markdown_id)",
    "CREATE INDEX IF NOT EXISTS idx_pane_markdown_id ON pane(markdown_id)"
  ]
}
