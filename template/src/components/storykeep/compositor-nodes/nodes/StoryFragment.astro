---
import { getCtx } from "../../../../store/nodes";
import { viewportStore } from "../../../../store/storykeep.ts";
import Node from "../../../storykeep/compositor-nodes/Node.astro";

const { nodeId } = Astro.props;
---

<div
  class={getCtx().getNodeClasses(nodeId, viewportStore.get().value)}
  style={getCtx().getNodeStringStyles(nodeId, viewportStore.get().value)}
>
  {getCtx().getChildNodeIDs(nodeId).map((id: string) => <Node nodeId={id} />)}
</div>
