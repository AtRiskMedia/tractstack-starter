---
import { getChildNodeIDs, getNodeClasses, getNodeStyles } from "../../../../store/nodes";
import { viewportStore } from "../../../../store/storykeep.ts";
import Node from "../../../storykeep/compositor-nodes/Node.astro";

const { nodeId } = Astro.props;
---

<div
  class={getNodeClasses(nodeId, viewportStore.get().value)}
  style={getNodeStyles<string>(nodeId, viewportStore.get().value)}
>
  {getChildNodeIDs(nodeId).map((id: string) => <Node nodeId={id} />)}
</div>
