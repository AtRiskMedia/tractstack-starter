---
import BgVisualBreak from "@/components/common/panes/BgVisualBreak.astro";
import BgImage from "@/components/common/panes/BgImage.astro";
import { getCtx } from "@/store/nodes.ts";
import { isBgImageNode, isArtpackImageNode } from "@/utils/nodes/type-guards";
import type { VisualBreakNode, BgImageNode } from "@/types.ts";

const { nodeId } = Astro.props;
const node = getCtx().allNodes.get().get(nodeId);
---

{
  node && (isBgImageNode(node) || isArtpackImageNode(node)) ? (
    <BgImage payload={node as BgImageNode} />
  ) : (
    <BgVisualBreak payload={node as VisualBreakNode} />
  )
}
